import{r as j,j as e,m as R,Q as y}from"./index-2b00a054.js";import{d as z}from"./GridView-85d728d6.js";import{u as M}from"./index.esm-322da860.js";import{d as _}from"./Add-84462153.js";import{e as m,f as $,P as O,h as Y,i as H,c as C,d as n,j as W,k as F,u as q,a as L,I as b,l as v,m as P,n as k,o as N}from"./LastPage-e02fc572.js";import{d as S}from"./dayjs.min-51d44ca9.js";import{B}from"./Button-c283a03a.js";import{c as T}from"./canboApi-c8a721f9.js";import"./createSvgIcon-46c59fe3.js";import"./ButtonBase-ca61bcf9.js";function w(d){const t=q(),{count:r,page:l,rowsPerPage:s,onPageChange:i}=d,p=o=>{i(o,0)},u=o=>{i(o,l-1)},a=o=>{i(o,l+1)},c=o=>{i(o,Math.max(0,Math.ceil(r/s)-1))};return e.jsxs(L,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(b,{onClick:p,disabled:l===0,"aria-label":"first page",children:t.direction==="rtl"?e.jsx(v,{}):e.jsx(P,{})}),e.jsx(b,{onClick:u,disabled:l===0,"aria-label":"previous page",children:t.direction==="rtl"?e.jsx(k,{}):e.jsx(N,{})}),e.jsx(b,{onClick:a,disabled:l>=Math.ceil(r/s)-1,"aria-label":"next page",children:t.direction==="rtl"?e.jsx(N,{}):e.jsx(k,{})}),e.jsx(b,{onClick:c,disabled:l>=Math.ceil(r/s)-1,"aria-label":"last page",children:t.direction==="rtl"?e.jsx(P,{}):e.jsx(v,{})})]})}w.propTypes={count:m.number.isRequired,onPageChange:m.func.isRequired,page:m.number.isRequired,rowsPerPage:m.number.isRequired};function A({list:d,onChangeStatus:t}){const[r,l]=j.useState(0),[s,i]=j.useState(10);r>0&&Math.max(0,(1+r)*s-d.length);const p=(a,c)=>{l(c)},u=a=>{i(parseInt(a.target.value,10)),l(0)};return e.jsxs(e.Fragment,{children:[e.jsx($,{component:O,children:e.jsxs(Y,{"aria-label":"custom pagination table",children:[e.jsx(H,{children:e.jsxs(C,{children:[e.jsx(n,{align:"left",rowSpan:2,style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(n,{align:"left",rowSpan:2,style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Họ tên"}),e.jsx(n,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(30, 41, 59 )"},children:"Ngày sinh"}),e.jsx(n,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(30, 41, 59 )"},children:"Đơn vị trước khi chuyển công tác"}),e.jsx(n,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(30, 41, 59 )"},children:"Đơn vị địa phương chuyển công tác đến"}),e.jsx(n,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(30, 41, 59 )"},children:"Ngày chuyển công tác"}),e.jsx(n,{align:"right",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(W,{children:(s>0?d.slice(r*s,r*s+s):d).map((a,c)=>e.jsxs(C,{className:"hover:bg-slate-200 transition duration-300",children:[e.jsx(n,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:r*s+c+1}),e.jsx(n,{className:"border-r border-slate-300",align:"left",children:e.jsx("span",{className:"font-bold",children:a.hoten})}),e.jsx(n,{className:"border-r border-slate-300",align:"left",children:S(a.ngaysinh).format("DD/MM/YYYY")}),e.jsx(n,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:a.donvitruockhichuyen})}),e.jsx(n,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:a.donvidiaphuongkhac.tendonvi})}),e.jsx(n,{className:"border-r border-slate-300",align:"left",children:S(a.ngaychuyendonvidiaphuongkhac).format("DD/MM/YYYY")}),e.jsx(n,{className:"border-r border-slate-300",align:"right",children:e.jsx(B,{variant:"contained",color:"info",size:"small",onClick:()=>t(a._id),children:"Thay đổi về công an tỉnh"})})]},a._id))})]})}),e.jsx("div",{children:e.jsx(F,{rowsPerPageOptions:[10,25,50,100,{label:"Tất cả",value:-1}],count:d.length,rowsPerPage:s,page:r,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},component:"div",onPageChange:p,onRowsPerPageChange:u,ActionsComponent:w,labelRowsPerPage:"Số bản ghi hiển thị trên mỗi trang",labelDisplayedRows:function({from:c,to:o,count:g}){return`hiển thị ${c} đến ${o} bản ghi trong tổng số ${g!==-1?g:`more than ${o}`} bản ghi`}})})]})}const ee=()=>{const[d,t]=R(),[r,l]=j.useState([]),{register:s,handleSubmit:i,control:p,resetField:u,setValue:a,watch:c,formState:{errors:o}}=M({defaultValues:{hoten:""}}),g=async f=>{let h={...f};try{t(!0);let x=await T.getDoanvienNgoaitinh(h);l(x.data),t(!1)}catch(x){y.error(x.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),t(!1)}};j.useEffect(()=>{g({hoten:""})},[]);const D=async f=>{t(!0);try{await T.backToCongantinh(f);let h=[...r];h=h.filter(x=>x._id.toString()!==f),l(h),t(!1),y.success("Thay đổi trạng thái thành công",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(h){y.error(h.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),t(!1)}};return e.jsxs("div",{className:"pr-2","data-aos":"fade-left","data-aos-once":"true",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{color:"primary",fontSize:"large"}),e.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Danh sách đoàn viên đã chuyển công tác khỏi công an tỉnh"})]}),e.jsx("form",{onSubmit:i(g),children:e.jsxs("div",{className:"flex mt-4 px-4 space-x-2 md:flex-row justify-end items-start",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Họ tên: "}),e.jsx("input",{...s("hoten"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                    focus:ring-2 focus:border-blue-400`})]}),e.jsx("div",{className:"flex-col flex md:basis-1/6",children:e.jsxs(B,{size:"small",type:"submit",sx:{width:"220px",backgroundColor:"gray"},color:"primary",variant:"contained",children:[e.jsx(_,{})," Lấy dữ liệu"]})})]})}),e.jsx("div",{className:"px-4","data-aos":"fade-left","data-aos-once":"true",children:e.jsx("div",{className:"mt-4",children:e.jsx(A,{list:r,onChangeStatus:D})})})]})};export{ee as default};
