import{r as c,j as e}from"./index-2b00a054.js";import{S as f,D as b,a as g,h as j,d as N,b as y,c as k}from"./DialogDelete-f919c647.js";import{u as v,C as o}from"./index.esm-322da860.js";import{d as C}from"./Add-84462153.js";import{S as d}from"./react-select.esm-a86401bf.js";import{I as B,a as V}from"./LastPage-e02fc572.js";import{B as D}from"./Button-c283a03a.js";import{s as S}from"./ButtonBase-ca61bcf9.js";const w=c.forwardRef(function(a,l){return e.jsx(f,{direction:"up",ref:l,...a})}),T=S(B)({position:"absolute",right:"16px",top:"4px"});function G({open:u,onCloseDialogEdit:a,item:l,onSubmit:h,chidoans:x}){const{register:r,handleSubmit:m,control:i,resetField:q,setValue:s,watch:_,formState:{errors:H}}=v({defaultValues:{}});c.useState([]),c.useEffect(()=>{l&&(s("soQD",l.soQD,{shouldValidate:!0}),s("hinhthuc",{label:l.hinhthuc,value:l.hinhthuc},{shouldValidate:!0}),s("capkhen",{label:l.capkhen,value:l.capkhen},{shouldValidate:!0}),s("noidung",l.noidung,{shouldValidate:!0}),s("ngayky",l.ngayky,{shouldValidate:!0}),s("nguoiky",l.nguoiky,{shouldValidate:!0}),s("nhomchidoanduockhenthuong",l.nhomchidoanduockhenthuong.map(n=>({label:n.tenchidoan,value:n._id})),{shouldValidate:!0}))},[l]);const p=async n=>{if(h){const t={...n,id_edit:l._id};await h(t),a()}};return e.jsx(e.Fragment,{children:e.jsxs(b,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(n,t)=>{t!=="backdropClick"&&a(n,t)},open:u,TransitionComponent:w,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(g,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(j,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsx("span",{className:"text-white text-[18px]",children:"Chỉnh sửa khen thưởng tập thể"}),e.jsx(T,{onClick:()=>a(),children:e.jsx(N,{style:{color:"white"}})})]}),e.jsx(y,{children:e.jsx(V,{children:e.jsx("form",{className:"mt-2 mx-8",onSubmit:m(p),children:e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Số QĐ khen thưởng: "]}),e.jsx("input",{...r("soQD",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày ký: "]}),e.jsx("input",{...r("ngayky",{required:!0}),type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Người ký: "]}),e.jsx("input",{...r("nguoiky",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col md:basis-full flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Nội dung khen thưởng: "]}),e.jsx("input",{...r("noidung",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Hình thức khen: "]}),e.jsx(o,{control:i,name:"hinhthuc",render:({field:n})=>e.jsx(d,{options:[{label:"Giấy khen",value:"Giấy khen"},{label:"Bằng khen",value:"Bằng khen"},{label:"Cờ",value:"Cờ"},{label:"Huân chương",value:"Huân chương"},{label:"Huy chương",value:"Huy chương"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn hình thức",required:!0,...n})})]}),e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"}),"Cấp khen: "]}),e.jsx(o,{control:i,name:"capkhen",render:({field:n})=>e.jsx(d,{options:[{label:"Công an tỉnh",value:"Công an tỉnh"},{label:"UBND tỉnh",value:"UBND tỉnh"},{label:"Tỉnh đoàn",value:"Tỉnh đoàn"},{label:"Ban thanh niên Công an tỉnh",value:"Ban thanh niên Công an tỉnh"},{label:"Bộ Công an",value:"Bộ Công an"},{label:"Trung ương",value:"Trung ương"},{label:"Chính phủ",value:"Chính phủ"},{label:"Khác",value:"Khác"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn cấp khen",required:!0,...n})})]}),e.jsxs("div",{className:"flex-col md:basis-full flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"}),"Tập thể được khen thưởng: "]}),e.jsx(o,{control:i,name:"nhomchidoanduockhenthuong",render:({field:n})=>e.jsx(d,{isMulti:!0,options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn chi đoàn được khen",required:!0,...n})})]}),e.jsx(k,{children:e.jsxs(D,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(C,{}),e.jsx("span",{children:"Cập nhật"})]})})]})})})})]})})}export{G as D};
