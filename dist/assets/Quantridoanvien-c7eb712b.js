import{j as e,d as ie,u as Re,r as d,m as ae,Q as P,_ as fs,k as ms}from"./index-2b00a054.js";import{d as bs}from"./GridView-85d728d6.js";import"./index.esm-a80e06b2.js";import{u as Y,C as W}from"./index.esm-322da860.js";import{d as Be}from"./Search-c2bf7f37.js";import{q as js}from"./base-e8aaf39e.js";import{S as R}from"./react-select.esm-a86401bf.js";import{c as C}from"./canboApi-c8a721f9.js";import{b as se,c as H,d as l,I as L,M as vs,e as ce,f as ue,P as ys,h as he,i as xe,j as ge,k as Cs,u as Ds,a as A,l as qe,m as Me,n as $e,o as Ve}from"./LastPage-e02fc572.js";import{d as F}from"./dayjs.min-51d44ca9.js";import{f as pe,g as fe,S as I,D as G,a as K,h as Q,d as X,b as U,c as le,e as me}from"./DialogDelete-f919c647.js";import{r as ne,i as te}from"./createSvgIcon-46c59fe3.js";import{d as Ns}from"./MilitaryTech-7c0df4b6.js";import{B as z}from"./Button-c283a03a.js";import{d as Ss}from"./Add-84462153.js";import{s as J}from"./ButtonBase-ca61bcf9.js";import{c as Le}from"./chucvuApi-d5c3a3e9.js";import{b as ks}from"./bachamApi-b2e350fc.js";import{d as _s}from"./donviApi-468d849b.js";var De={},Ps=te;Object.defineProperty(De,"__esModule",{value:!0});var He=De.default=void 0,ws=Ps(ne()),Os=e,zs=(0,ws.default)((0,Os.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5zm19 0V4h-9v7h9zm-2-2h-5V6h5v3zm-7 4h9v7h-9z"}),"MoveDown");He=De.default=zs;var Ne={},Ts=te;Object.defineProperty(Ne,"__esModule",{value:!0});var Ee=Ne.default=void 0,Bs=Ts(ne()),qs=e,Ms=(0,Bs.default)((0,qs.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");Ee=Ne.default=Ms;var Se={},$s=te;Object.defineProperty(Se,"__esModule",{value:!0});var Ye=Se.default=void 0,Vs=$s(ne()),Ws=e,Rs=(0,Vs.default)((0,Ws.jsx)("path",{d:"m12 8.89.94 3.11h2.82l-2.27 1.62.93 3.01L12 14.79l-2.42 1.84.93-3.01L8.24 12h2.82L12 8.89M12 2l-2.42 8H2l6.17 4.41L5.83 22 12 17.31 18.18 22l-2.35-7.59L22 10h-7.58L12 2z"}),"StarBorderPurple500");Ye=Se.default=Rs;var ke={},Ls=te;Object.defineProperty(ke,"__esModule",{value:!0});var Ce=ke.default=void 0,Hs=Ls(ne()),Es=e,Ys=(0,Hs.default)((0,Es.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");Ce=ke.default=Ys;var _e={},As=te;Object.defineProperty(_e,"__esModule",{value:!0});var de=_e.default=void 0,Fs=As(ne()),We=e,Is=(0,Fs.default)([(0,We.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},"0"),(0,We.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},"1")],"AdminPanelSettings");de=_e.default=Is;const Gs=({onClose:n,row:s,onClickOpenDialogChangeBacHam:r,onClickOpenDialogChangeChucvu:h,onClickOpenDialogChucvuPlus:i,onClickOpenDialogBachamPlus:D,onClickOpenDialogDonviPlus:b,onClickOpenDialogChuyenCongtackhactinh:x,onClickOpenDialogTruongthanhdoan:p})=>{const j=ie(T=>T.authReducer.roles_quanlydoanvien),u=()=>{n(),r(s)},f=()=>{n(),h(s)},N=()=>{n(),i(s)},c=()=>{n(),D(s)},o=()=>{n(),b(s)},v=()=>{n(),p(s)},k=()=>{n(),x(s)};return Re(),e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-center p-2 px-4 text-green-800 font-medium",children:"Chức năng quản trị mở rộng"}),e.jsx("hr",{}),j&&j.includes("xem nâng cao")&&e.jsxs(e.Fragment,{children:[e.jsx(se,{onClick:()=>N(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(de,{color:"primary"}),e.jsx("span",{className:"text-sm",children:"Quản trị chức vụ nâng cao"})]})}),e.jsx(se,{onClick:()=>c(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(de,{color:"primary"}),e.jsx("span",{className:"text-sm",children:"Quản trị nâng cao cấp bậc hàm"})]})}),e.jsx(se,{onClick:()=>o(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(de,{color:"primary"}),e.jsx("span",{className:"text-sm",children:"Quản trị nâng cao đơn vị công tác"})]})})]}),e.jsx(se,{onClick:()=>f(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ns,{}),e.jsx("span",{className:"text-sm",children:"Thay đổi chức vụ công tác mới"})]})}),e.jsx(se,{onClick:()=>u(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ye,{}),e.jsx("span",{className:"text-sm",children:"Thay đổi cấp bậc hàm"})]})}),e.jsx(se,{onClick:()=>v(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ce,{}),e.jsx("span",{className:"text-sm",children:"Trưởng thành đoàn"})]})}),e.jsx(se,{onClick:()=>k(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ce,{}),e.jsx("span",{className:"text-sm",children:"Chuyển công tác ngoài tỉnh"})]})})]})},Ks=({row:n,onClickOpenDialogEdit:s,onClickOpenDialogDelete:r,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:i,onClickOpenDialogChucvuPlus:D,onClickOpenDialogBachamPlus:b,onClickOpenDialogChuyenCongtac:x,onClickOpenDialogChuyenCongtackhactinh:p,onClickOpenDialogDonviPlus:j,onClickOpenDialogTruongthanhdoan:u,page:f,rowsPerPage:N,index:c})=>{const[o,v]=d.useState(null),k=!!o,T=B=>{v(B.currentTarget)},w=()=>{v(null)},_=ie(B=>B.authReducer.roles_quanlydoanvien);return e.jsxs(H,{children:[e.jsx(l,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:f*N+c}),e.jsx(l,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:n.hoten}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:F(n.ngaysinh).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.bachamPopulate[0].bacham}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.chucvuPopulate[0].chucvu}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:n.doiPopulate[0].tendoi})}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:n.donviPopulate[0].tendonvi})}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.dangvien===!0?"Đảng viên":""}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:n.quequan})}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.gioitinh}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.CCCD}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.sohieuCAND}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.ngayvaodang!==""?F(n.ngayvaodang).format("DD/MM/YYYY"):""}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.trinhdo}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.lyluanchinhtri}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:F(n.bacham.tungay).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:F(n.chucvu.tungay).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:F(n.donvi.tungay).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left"}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1",style:{position:"absolute",right:"40px",height:"53px",width:"300px",display:"flex",flexDirection:"unset"},children:[_&&_.includes("sửa đoàn viên")&&e.jsx(z,{variant:"contained",color:"success",size:"small",onClick:()=>s(n),children:e.jsx(pe,{style:{fontSize:"20px"}})}),_&&_.includes("sửa đoàn viên")&&e.jsx(z,{variant:"contained",color:"info",size:"small",onClick:()=>x(n),children:e.jsx(He,{style:{fontSize:"20px"}})}),_&&_.includes("xóa đoàn viên")&&e.jsx(z,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>r(n._id),children:e.jsx(fe,{style:{fontSize:"20px"}})}),e.jsx(L,{id:"basic-button","aria-controls":k?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":k?"true":void 0,onClick:T,children:e.jsx(Ee,{color:"primary"})}),e.jsx(vs,{id:"basic-menu",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:k,onClose:w,MenuListProps:{"aria-labelledby":"basic-button"},children:e.jsx(Gs,{onClose:w,row:n,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:i,onClickOpenDialogChucvuPlus:D,onClickOpenDialogBachamPlus:b,onClickOpenDialogDonviPlus:j,onClickOpenDialogChuyenCongtackhactinh:p,onClickOpenDialogTruongthanhdoan:u})})]})]},n._id)};function Ae(n){const s=Ds(),{count:r,page:h,rowsPerPage:i,onPageChange:D}=n,b=u=>{D(u,0)},x=u=>{D(u,h-1)},p=u=>{D(u,h+1)},j=u=>{D(u,Math.max(0,Math.ceil(r/i)-1))};return e.jsxs(A,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(L,{onClick:b,disabled:h===0,"aria-label":"first page",children:s.direction==="rtl"?e.jsx(qe,{}):e.jsx(Me,{})}),e.jsx(L,{onClick:x,disabled:h===0,"aria-label":"previous page",children:s.direction==="rtl"?e.jsx($e,{}):e.jsx(Ve,{})}),e.jsx(L,{onClick:p,disabled:h>=Math.ceil(r/i)-1,"aria-label":"next page",children:s.direction==="rtl"?e.jsx(Ve,{}):e.jsx($e,{})}),e.jsx(L,{onClick:j,disabled:h>=Math.ceil(r/i)-1,"aria-label":"last page",children:s.direction==="rtl"?e.jsx(Me,{}):e.jsx(qe,{})})]})}Ae.propTypes={count:ce.number.isRequired,onPageChange:ce.func.isRequired,page:ce.number.isRequired,rowsPerPage:ce.number.isRequired};function Qs({list:n,onClickOpenDialogDelete:s,onClickOpenDialogEdit:r,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:i,onClickOpenDialogChucvuPlus:D,onClickOpenDialogBachamPlus:b,onClickOpenDialogDonviPlus:x,onClickOpenDialogChuyenCongtackhactinh:p,onClickOpenDialogChuyenCongtac:j,onClickOpenDialogTruongthanhdoan:u}){const[f,N]=d.useState(0),[c,o]=d.useState(10),v=f>0?Math.max(0,(1+f)*c-n.length):0,k=(w,_)=>{N(_)},T=w=>{o(parseInt(w.target.value,10)),N(0)};return e.jsxs(e.Fragment,{children:[e.jsx(ue,{component:ys,style:{overflowX:"scroll"},children:e.jsxs(he,{"aria-label":"custom pagination table",children:[e.jsx(xe,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"250px"},children:"Họ tên"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"120px"},children:"Ngày sinh"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"120px"},children:"Bậc hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Chức vụ"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Đội, công an xã"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Đơn vị công tác"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Đảng viên"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Quê quán"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Giới tính"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Số CCCD"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"120px"},children:"Số hiệu CAND"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày vào đảng"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Trình độ học vấn"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Lý luận chính trị"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày lên hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày giữ chức vụ"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"250px"},children:"Ngày nhận công tác về đơn vị"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"}}),e.jsx(l,{align:"center",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(64, 64, 64)",minWidth:"300px",position:"absolute",right:"40px"},children:"Thao tác"})]})}),e.jsxs(ge,{children:[(c>0?n.slice(f*c,f*c+c):n).map((w,_)=>e.jsx(Ks,{row:w,page:f,rowsPerPage:c,index:_+1,onClickOpenDialogEdit:r,onClickOpenDialogDelete:s,onClickOpenDialogChuyenCongtac:j,onClickOpenDialogChuyenCongtackhactinh:p,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:i,onClickOpenDialogChucvuPlus:D,onClickOpenDialogBachamPlus:b,onClickOpenDialogDonviPlus:x,onClickOpenDialogTruongthanhdoan:u},w._id)),v>0&&e.jsx(H,{style:{height:53*v},children:e.jsx(l,{colSpan:6})})]})]})}),e.jsx("div",{children:e.jsx(Cs,{rowsPerPageOptions:[10,25,50,100,{label:"Tất cả",value:-1}],count:n.length,rowsPerPage:c,page:f,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},component:"div",onPageChange:k,onRowsPerPageChange:T,ActionsComponent:Ae,labelRowsPerPage:"Số cán bộ hiển thị trên mỗi trang",labelDisplayedRows:function({from:_,to:B,count:$}){return`hiển thị ${_} đến ${B} cán bộ trong tổng số ${$!==-1?$:`more than ${B}`} cán bộ`}})})]})}const Xs=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),Us=J(L)({position:"absolute",right:"16px",top:"4px"});function Js({open:n,item:s,onCloseDialogEdit:r,onSubmit:h}){const[i,D]=d.useState(!0),{register:b,handleSubmit:x,control:p,resetField:j,setValue:u,watch:f,formState:{errors:N}}=Y({defaultValues:{hoten:"",ngaysinh:"",quequan:"",sohieuCAND:""}});d.useEffect(()=>{var o;D((o=f("dangvien"))==null?void 0:o.value)},[f("dangvien")]),d.useEffect(()=>{s&&(u("hoten",s.hoten,{shouldValidate:!0}),u("ngaysinh",s.ngaysinh,{shouldValidate:!0}),u("CCCD",s.CCCD,{shouldValidate:!0}),u("gioitinh",{value:s.gioitinh,label:s.gioitinh},{shouldValidate:!0}),u("quequan",s.quequan,{shouldValidate:!0}),u("sohieuCAND",s.sohieuCAND,{shouldValidate:!0}),u("trinhdo",{value:s.trinhdo,label:s.trinhdo},{shouldValidate:!0}),u("lyluanchinhtri",{value:s.lyluanchinhtri,label:s.lyluanchinhtri},{shouldValidate:!0}),u("dangvien",{value:s.dangvien,label:s.dangvien===!0?"Có":"Không"}),u("ngayvaodang",s.ngayvaodang),D(s.dangvien))},[s]);const c=async o=>{if(h){const v={...o,id_edit:s._id};await h(v),r()}};return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"lg",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(o,v)=>{v!=="backdropClick"&&r(o,v)},open:n,TransitionComponent:Xs,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsx("span",{className:"text-white text-[18px]",children:"Chỉnh sửa thông tin đoàn viên"}),e.jsx(Us,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsx(U,{children:e.jsx(A,{children:e.jsxs("form",{className:"mt-2 mx-8",onSubmit:x(c),children:[e.jsx("div",{className:"flex space-x-2 items-start",children:e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 bg-slate-300 p-2 rounded-md",children:[e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Họ và tên: "]}),e.jsx("input",{...b("hoten",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Số CCCD: "]}),e.jsx("input",{...b("CCCD",{required:!0}),type:"number",maxLength:12,minLength:12,className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Giới tính:"]}),e.jsx(W,{control:p,name:"gioitinh",render:({field:o})=>e.jsx(R,{options:[{value:"Nam",label:"Nam"},{value:"Nữ",label:"Nữ"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...o})})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/6 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày sinh: "]}),e.jsx("input",{...b("ngaysinh"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Quê quán: "}),e.jsx("input",{...b("quequan"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/6 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Số hiệu CAND: "}),e.jsx("input",{...b("sohieuCAND"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Trình độ học vấn:"}),e.jsx(W,{control:p,name:"trinhdo",render:({field:o})=>e.jsx(R,{options:[{value:"Đại học",label:"Đại học"},{value:"Cao đẳng",label:"Cao đẳng"},{value:"Trung cấp",label:"Trung cấp"},{value:"Sơ cấp",label:"Sơ cấp"},{value:"Khác",label:"Khác"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...o})})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Lý luận chính trị:"}),e.jsx(W,{control:p,name:"lyluanchinhtri",render:({field:o})=>e.jsx(R,{options:[{value:"Trung cấp",label:"Trung cấp"},{value:"Sơ cấp",label:"Sơ cấp"},{value:"Cao cấp",label:"Cao cấp"},{value:"Khác",label:"Khác"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...o})})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Là đảng viên:"}),e.jsx(W,{control:p,name:"dangvien",render:({field:o})=>e.jsx(R,{options:[{value:!0,label:"Có"},{value:!1,label:"Không"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...o})})]}),i===!0?e.jsxs("div",{className:"flex-col flex md:basis-1/4 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày kết nạp vào đảng: "]}),e.jsx("input",{...b("ngayvaodang"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}):""]})}),e.jsx("div",{className:"md:space-x-2 space-y-2 md:space-y-0 md:block flex flex-col items-center mt-4",children:e.jsxs(z,{type:"submit",sx:{width:"220px",backgroundColor:"gray"},color:"primary",variant:"contained",children:[e.jsx(Ss,{})," Cập nhật"]})})]})})})]})})}var Pe={},Zs=te;Object.defineProperty(Pe,"__esModule",{value:!0});var Z=Pe.default=void 0,ea=Zs(ne()),sa=e,aa=(0,ea.default)((0,sa.jsx)("path",{d:"M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2v11zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97l2.66-6.15z"}),"ThumbUpAlt");Z=Pe.default=aa;const la=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),na=J(L)({position:"absolute",right:"16px",top:"4px"});function ta({open:n,item:s,onCloseDialogChangeChucvu:r,onSubmit:h}){var f,N;const i=Y({defaultValues:{ghichu:"",ngaygiuchucvu:""}}),[D,b]=d.useState([]),x=i.setValue;i.watch,d.useEffect(()=>{(async()=>{try{let o=await Le.getChucvus();b(o.data.map(v=>({value:v._id,label:v.chucvu})))}catch(o){console.log(o.message)}})()},[]),d.useEffect(()=>{s&&x("chucvu",{value:s==null?void 0:s.chucvuPopulate[0]._id,label:s==null?void 0:s.chucvuPopulate[0].chucvu},{shouldValidate:!0})},[s]);const p=async c=>{if(h){const o={...c,id_edit:s._id};await h(o),r()}},{isSubmitting:j}=i.formState,{register:u}=i;return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"lg",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(c,o)=>{o!=="backdropClick"&&r(c,o)},open:n,TransitionComponent:la,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Thay đổi chức vụ công tác đối với đồng chí "',(f=s==null?void 0:s.bachamPopulate[0])==null?void 0:f.bacham," ",s==null?void 0:s.hoten,'" hiện đang là ',(N=s==null?void 0:s.chucvuPopulate[0])==null?void 0:N.chucvu]}),e.jsx(na,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsx(U,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit(p),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Chức vụ công tác mới:"}),e.jsx(W,{control:i.control,name:"chucvu",render:({field:c})=>e.jsx(R,{options:D,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn chức vụ",required:!0,...c})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Giữ chức vụ mới kể từ ngày: "]}),e.jsx("input",{...u("ngaygiuchucvu"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...u("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",disabled:j,type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})})})]})})}const oa=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),ia=J(L)({position:"absolute",right:"16px",top:"4px"});function ra({open:n,item:s,onCloseDialogChucvuPlus:r,onSubmit:h}){var E,m;const i=Y({defaultValues:{id_item:null,ghichu:"",ngaygiuchucvu:""}}),[D,b]=ae(),[x,p]=d.useState([]),[j,u]=d.useState([]),f=i.setValue,N=i.watch,[c,o]=d.useState({status:!1,id_Delete:null}),v=()=>{o({...c,status:!1})},k=()=>{o({...c,status:!1})},T=a=>{o({status:!0,id_Delete:a})};d.useEffect(()=>{(async()=>{try{let g=await Le.getChucvus();p(g.data.map(S=>({value:S._id,label:S.chucvu})))}catch(g){console.log(g.message)}})()},[]),d.useEffect(()=>{s&&(f("id_item",null),f("ghichu",""),f("ngaygiuchucvu",""),(async()=>{try{let g=await C.getChucvuPlus(s._id);u(g.data)}catch(g){console.log(g.message)}})())},[s]);const w=async a=>{if(h){b(!0);const g={...a,id:s._id};try{let S=await C.changeChucvuPlus(g);u(S.data.data),await h(),i.reset(),b(!1),P.success(S.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(S){console.log(S.message)}}},_=a=>{f("id_item",a._id),f("ghichu",a.ghichu),f("ngaygiuchucvu",a.tungay),f("chucvu",{label:a.chucvu.chucvu,value:a.chucvu._id})},B=async()=>{if(h){b(!0);try{let a=await C.deleteChucvuPlus(s._id,c.id_Delete);u(a.data.data),await h(),b(!1),P.success(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),o({...c,status:!1})}catch(a){console.log(a.message)}}};i.formState;const{register:$}=i,q=ie(a=>a.authReducer.roles_quanlydoanvien);return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(a,g)=>{g!=="backdropClick"&&r(a,g)},open:n,TransitionComponent:oa,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Quản trị chức vụ nâng cao đối với đồng chí "',(E=s==null?void 0:s.bachamPopulate[0])==null?void 0:E.bacham," ",s==null?void 0:s.hoten,'" hiện đang là ',(m=s==null?void 0:s.chucvuPopulate[0])==null?void 0:m.chucvu]}),e.jsx(ia,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsxs(U,{children:[e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit(w),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Chức vụ công tác chỉnh sửa:"}),e.jsx(W,{control:i.control,name:"chucvu",render:({field:a})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn chức vụ",required:!0,...a})})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Giữ chức vụ từ ngày: "]}),e.jsx("input",{...$("ngaygiuchucvu"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú chỉnh sửa: "}),e.jsx("input",{...$("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",disabled:!N("id_item"),type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-center my-4 text-lg font-bold text-blue-500",children:"Quá trình công tác giữ các chức vụ"})}),e.jsx(ue,{style:{overflowX:"scroll"},children:e.jsxs(he,{"aria-label":"custom pagination table",children:[e.jsx(xe,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Chức vụ công tác"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày giữ chức vụ"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ghi chú"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(ge,{children:j.length>0?j.map((a,g)=>e.jsxs(H,{children:[e.jsx(l,{children:g+1}),e.jsx(l,{children:a.chucvu.chucvu}),e.jsx(l,{children:F(a.tungay).format("DD/MM/YYYY")}),e.jsx(l,{children:a.ghichu}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1 hover:bg-slate-500 transition duration-300",style:{width:"180px"},children:[q&&q.includes("sửa nâng cao")&&e.jsx(z,{variant:"contained",color:"success",size:"small",onClick:()=>_(a),children:e.jsx(pe,{style:{fontSize:"20px"}})}),q&&q.includes("xóa nâng cao")&&e.jsx(z,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>T(a._id),children:e.jsx(fe,{style:{fontSize:"20px"}})})]})]},a._id)):e.jsx(H,{children:e.jsx(l,{children:"Không có dữ liệu trong hệ thống"})})})]})}),e.jsx(me,{open:c.status,onCloseDialogDelete:k,onConfirmDelete:B,onCancelDelete:v})]})]})})}const ca=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),da=J(L)({position:"absolute",right:"16px",top:"4px"});function ua({open:n,item:s,onCloseDialogBachamPlus:r,onSubmit:h}){var E;const i=Y({defaultValues:{id_item:null,ghichu:"",ngaylenham:""}}),[D,b]=ae(),[x,p]=d.useState([]),[j,u]=d.useState([]),f=i.setValue,N=i.watch,[c,o]=d.useState({status:!1,id_Delete:null}),v=()=>{o({...c,status:!1})},k=()=>{o({...c,status:!1})},T=m=>{o({status:!0,id_Delete:m})};d.useEffect(()=>{(async()=>{try{let a=await ks.getBachams();p(a.data.map(g=>({value:g._id,label:g.bacham})))}catch(a){console.log(a.message)}})()},[]),d.useEffect(()=>{s&&(f("id_item",null),f("ghichu",""),f("ngaylenham",""),(async()=>{try{let a=await C.getBachamPlus(s._id);console.log(a),u(a.data)}catch(a){console.log(a.message)}})())},[s]);const w=async m=>{if(h){b(!0);const a={...m,id:s._id};try{let g=await C.changeBachamPlus(a);u(g.data.data),await h(),i.reset(),b(!1),P.success(g.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(g){console.log(g.message)}}},_=m=>{f("id_item",m._id),f("ghichu",m.ghichu),f("ngaylenham",m.tungay),f("bacham",{label:m.bacham.bacham,value:m.bacham._id})},B=async()=>{if(h){b(!0);try{let m=await C.deleteBachamPlus(s._id,c.id_Delete);u(m.data.data),await h(),b(!1),P.success(m.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),o({...c,status:!1})}catch(m){console.log(m.message)}}};i.formState;const{register:$}=i,q=ie(m=>m.authReducer.roles_quanlydoanvien);return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(m,a)=>{a!=="backdropClick"&&r(m,a)},open:n,TransitionComponent:ca,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[16px]",children:['Quản trị bậc hàm nâng cao đối với đồng chí "',(E=s==null?void 0:s.bachamPopulate[0])==null?void 0:E.bacham," ",s==null?void 0:s.hoten]}),e.jsx(da,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsxs(U,{children:[e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit(w),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Cấp bậc quân hàm chỉnh sửa:"}),e.jsx(W,{control:i.control,name:"bacham",render:({field:m})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn bậc hàm",required:!0,...m})})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày lên hàm: "]}),e.jsx("input",{...$("ngaylenham"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú chỉnh sửa: "}),e.jsx("input",{...$("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",disabled:!N("id_item"),type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-center my-4 text-lg font-bold text-blue-500",children:"Danh sách các bậc quân hàm đã nhận"})}),e.jsx(ue,{style:{overflowX:"scroll"},children:e.jsxs(he,{"aria-label":"custom pagination table",children:[e.jsx(xe,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Bậc hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày lên quân hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ghi chú"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(ge,{children:j.length>0?j.map((m,a)=>e.jsxs(H,{children:[e.jsx(l,{children:a+1}),e.jsx(l,{children:m.bacham.bacham}),e.jsx(l,{children:F(m.tungay).format("DD/MM/YYYY")}),e.jsx(l,{children:m.ghichu}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1 hover:bg-slate-500 transition duration-300",style:{width:"180px"},children:[q&&q.includes("sửa nâng cao")&&e.jsx(z,{variant:"contained",color:"success",size:"small",onClick:()=>_(m),children:e.jsx(pe,{style:{fontSize:"20px"}})}),q&&q.includes("xóa nâng cao")&&e.jsx(z,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>T(m._id),children:e.jsx(fe,{style:{fontSize:"20px"}})})]})]},m._id)):e.jsx(H,{children:e.jsx(l,{children:"Không có dữ liệu trong hệ thống"})})})]})}),e.jsx(me,{open:c.status,onCloseDialogDelete:k,onConfirmDelete:B,onCancelDelete:v})]})]})})}const ha=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),xa=J(L)({position:"absolute",right:"16px",top:"4px"});function ga({open:n,item:s,onCloseDialogChuyenCongtac:r,onSubmit:h}){const i=Y({defaultValues:{id_item:null,ghichu:"",ngayvedonvi:""}});ae();const[D,b]=d.useState([]),[x,p]=d.useState([]),j=i.watch,u=i.setValue;d.useEffect(()=>{(async()=>{try{let o=await C.getDataForAddPerson();b(o.data.donvis.map(v=>({value:v._id,label:v.tendonvi})))}catch(o){console.log(o.message)}})()},[]),d.useEffect(()=>{(async()=>{let o=j("donvi");if(u("doi",""),o)try{let v=await C.getDoiWhenDonviChange({id_donvi:o.value});p(v.data.map(k=>({value:k._id,label:k.tendoi})))}catch(v){console.log(v.message)}})()},[j("donvi")]);const f=async c=>{if(h){const o={...c,id:s._id};await h(o),r()}},{register:N}=i;return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(c,o)=>{o!=="backdropClick"&&r(c,o)},open:n,TransitionComponent:ha,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[16px]",children:['Luân chuyển công tác trong Công an tỉnh đối với đồng chí "',s==null?void 0:s.hoten,'"']}),e.jsx(xa,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsx(U,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit(f),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị chuyển đến:"}),e.jsx(W,{control:i.control,name:"donvi",render:({field:c})=>e.jsx(R,{options:D,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đơn vị công tác",required:!0,...c})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đội, công an xã, phường chuyển đến:"}),e.jsx(W,{control:i.control,name:"doi",render:({field:c})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đội công tác, ca xã",required:!0,...c})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày chuyển đến đơn vị: "]}),e.jsx("input",{...N("ngayvedonvi"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...N("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Hoàn tất chuyển công tác"})]})})]})})})]})})}const pa=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),fa=J(L)({position:"absolute",right:"16px",top:"4px"});function ma({open:n,item:s,onCloseDialogDonviPlus:r,onSubmit:h}){const i=Y({defaultValues:{id_item:null,ghichu:"",ngayvedonvi:""}}),[D,b]=ae(),[x,p]=d.useState([]),[j,u]=d.useState([]),[f,N]=d.useState([]),c=i.setValue,o=i.watch,v=ie(a=>a.authReducer.roles_quanlydoanvien);d.useEffect(()=>{(async()=>{let g=o("donvi");if(g)try{let S=await C.getDoiWhenDonviChange({id_donvi:g.value});u(S.data.map(ee=>({value:ee._id,label:ee.tendoi}))),S.data.find(ee=>ee._id.toString()===o("doi").value)||c("doi","")}catch(S){console.log(S.message)}})()},[o("donvi")]);const[k,T]=d.useState({status:!1,id_Delete:null}),w=()=>{T({...k,status:!1})},_=()=>{T({...k,status:!1})},B=a=>{T({status:!0,id_Delete:a})};d.useEffect(()=>{(async()=>{try{let g=await _s.getDonvis();p(g.data.map(S=>({value:S._id,label:S.tendonvi})))}catch(g){console.log(g.message)}})()},[]),d.useEffect(()=>{s&&(c("id_item",null),c("ghichu",""),c("ngayvedonvi",""),(async()=>{try{let g=await C.getDonviPlus(s._id);N(g.data)}catch(g){console.log(g.message)}})())},[s]);const $=async a=>{if(h){b(!0);const g={...a,id:s._id};try{let S=await C.changeDonviPlus(g);N(S.data.data),await h(),i.reset(),b(!1),P.success(S.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),r()}catch(S){console.log(S.message)}}},q=a=>{c("id_item",a._id),c("ghichu",a.ghichu),c("ngayvedonvi",a.tungay),c("donvi",{label:a.donvi.tendonvi,value:a.donvi._id}),c("doi",{label:a.doi.tendoi,value:a.doi._id})},E=async()=>{if(h){b(!0);try{let a=await C.deleteDonviPlus(s._id,k.id_Delete);N(a.data.data),await h(),b(!1),P.success(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),T({...k,status:!1})}catch(a){console.log(a.message)}}};i.formState;const{register:m}=i;return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(a,g)=>{g!=="backdropClick"&&r(a,g)},open:n,TransitionComponent:pa,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Quản trị đơn vị công tác nâng cao đối với đồng chí "',s==null?void 0:s.hoten,'"']}),e.jsx(fa,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsxs(U,{children:[e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit($),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-wrapp flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị chỉnh sửa:"}),e.jsx(W,{control:i.control,name:"donvi",render:({field:a})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đơn vị",required:!0,...a})})]}),e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đội, công an xã, phường:"}),e.jsx(W,{control:i.control,name:"doi",render:({field:a})=>e.jsx(R,{options:j,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đội công tác, ca xã",required:!0,...a})})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/2 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày chuyển đến đơn vị: "]}),e.jsx("input",{...m("ngayvedonvi"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/2 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...m("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",disabled:!o("id_item"),type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-center my-4 text-lg font-bold text-blue-500",children:"Quá trình công tác qua các đơn vị"})}),e.jsx(ue,{style:{overflowX:"scroll"},children:e.jsxs(he,{"aria-label":"custom pagination table",children:[e.jsx(xe,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Đơn vị công tác"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Đội, công an xã"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày về đơn vị"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ghi chú"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(ge,{children:f.length>0?f.map((a,g)=>e.jsxs(H,{children:[e.jsx(l,{children:g+1}),e.jsx(l,{children:a.donvi.tendonvi}),e.jsx(l,{children:a.doi.tendoi}),e.jsx(l,{children:F(a.tungay).format("DD/MM/YYYY")}),e.jsx(l,{children:a.ghichu}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1 hover:bg-slate-500 transition duration-300",style:{width:"180px"},children:[v&&v.includes("sửa nâng cao")&&e.jsx(z,{variant:"contained",color:"success",size:"small",onClick:()=>q(a),children:e.jsx(pe,{style:{fontSize:"20px"}})}),v&&v.includes("xóa nâng cao")&&e.jsx(z,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>B(a._id),children:e.jsx(fe,{style:{fontSize:"20px"}})})]})]},a._id)):e.jsx(H,{children:e.jsx(l,{children:"Không có dữ liệu trong hệ thống"})})})]})}),e.jsx(me,{open:k.status,onCloseDialogDelete:_,onConfirmDelete:E,onCancelDelete:w})]})]})})}const ba=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),ja=J(L)({position:"absolute",right:"16px",top:"4px"});function va({open:n,item:s,onCloseDialogTruongthanhdoan:r,onSubmit:h}){var x;const i=Y({defaultValues:{ngaytruongthanhdoan:""}});ae(),i.setValue,i.watch;const D=async p=>{if(h){const j={...p};try{await h(j),r()}catch(u){console.log(u.message)}}};i.formState;const{register:b}=i;return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(p,j)=>{j!=="backdropClick"&&r(p,j)},open:n,TransitionComponent:ba,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Quyết định trưởng thành đoàn của đồng chí "',(x=s==null?void 0:s.bachamPopulate[0])==null?void 0:x.bacham," ",s==null?void 0:s.hoten,'"']}),e.jsx(ja,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsx(U,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit(D),style:{width:"100%"},children:[e.jsx("div",{className:"flex flex-wrap  flex-col flex-1 p-2",children:e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Trưởng thành đoàn kể từ ngày: "]}),e.jsx("input",{...b("ngaytruongthanhdoan"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]})}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})})})]})})}const ya=d.forwardRef(function(s,r){return e.jsx(I,{direction:"up",ref:r,...s})}),Ca=J(L)({position:"absolute",right:"16px",top:"4px"});function Da({open:n,item:s,onCloseDialogChuyenCongtackhactinh:r,onSubmit:h}){const i=Y({defaultValues:{ngayvedonvi:""}});ae();const[D,b]=d.useState([]);d.useState([]),i.watch,i.setValue,d.useEffect(()=>{(async()=>{try{let u=await C.getDonvikhactinh();b(u.data.map(f=>({value:f._id,label:f.tendonvi})))}catch(u){console.log(u.message)}})()},[]);const x=async j=>{if(h){const u={...j,id:s._id};await h(u),r()}},{register:p}=i;return e.jsx(e.Fragment,{children:e.jsxs(G,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(j,u)=>{u!=="backdropClick"&&r(j,u)},open:n,TransitionComponent:ya,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(K,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(Q,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[16px]",children:['Chuyển công tác đến địa phương khác đối với đồng chí "',s==null?void 0:s.hoten,'"']}),e.jsx(Ca,{onClick:()=>r(),children:e.jsx(X,{style:{color:"white"}})})]}),e.jsx(U,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:i.handleSubmit(x),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị, địa phương chuyển đến:"}),e.jsx(W,{control:i.control,name:"donvi",render:({field:j})=>e.jsx(R,{options:D,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đơn vị, địa phương",required:!0,...j})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày chuyển công tác: "]}),e.jsx("input",{...p("ngayvedonvi"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]})]}),e.jsx(le,{children:e.jsxs(z,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(Z,{}),e.jsx("span",{children:"Hoàn tất chuyển công tác"})]})})]})})})]})})}const Na=d.lazy(()=>fs(()=>import("./DialogChangeBacham-1c8dc332.js"),["assets/DialogChangeBacham-1c8dc332.js","assets/index-2b00a054.js","assets/index-3aea2dd9.css","assets/DialogDelete-f919c647.js","assets/ButtonBase-ca61bcf9.js","assets/createSvgIcon-46c59fe3.js","assets/LastPage-e02fc572.js","assets/Button-c283a03a.js","assets/react-select.esm-a86401bf.js","assets/index.esm-a80e06b2.js","assets/index.esm-322da860.js","assets/dayjs.min-51d44ca9.js","assets/bachamApi-b2e350fc.js","assets/GridView-85d728d6.js","assets/Search-c2bf7f37.js","assets/base-e8aaf39e.js","assets/canboApi-c8a721f9.js","assets/MilitaryTech-7c0df4b6.js","assets/Add-84462153.js","assets/chucvuApi-d5c3a3e9.js","assets/donviApi-468d849b.js"])),Sa=()=>{d.useState(!1);const[n,s]=d.useState([]),[r,h]=d.useState([]);let[i,D]=ms();const[b,x]=ae();Re();const p=d.useMemo(()=>{const t=js.parse(location.search);return{...t,hoten:t.hoten||"",sohieuCAND:t.sohieuCAND||"",donvi:t.donvi||""}},[location.search]),[j,u]=d.useState({status:!1,item:null}),f=()=>{u({...j,status:!1})},N=t=>{u({item:t,status:!0})},[c,o]=d.useState({status:!1,id_Delete:null}),v=t=>{o({status:!0,id_Delete:t})},k=()=>{o({...c,status:!1})},T=()=>{o({...c,status:!1})},[w,_]=d.useState({status:!1,item:null}),[B,$]=d.useState({status:!1,item:null}),[q,E]=d.useState({status:!1,item:null}),[m,a]=d.useState({status:!1,item:null}),[g,S]=d.useState({status:!1,item:null}),[re,ee]=d.useState({status:!1,item:null}),[be,we]=d.useState({status:!1,item:null}),[oe,Oe]=d.useState({status:!1,item:null}),Fe=()=>{_({...w,status:!1})},Ie=()=>{$({...B,status:!1})},Ge=()=>{E({...q,status:!1})},Ke=()=>{we({...be,status:!1})},Qe=()=>{a({...m,status:!1})},Xe=()=>{S({...g,status:!1})},Ue=()=>{ee({...re,status:!1})},Je=()=>{Oe({...oe,status:!1})},Ze=t=>{_({item:t,status:!0})},es=t=>{S({item:t,status:!0})},ss=t=>{ee({item:t,status:!0})},as=t=>{$({item:t,status:!0})},ls=t=>{E({item:t,status:!0})},ns=t=>{we({item:t,status:!0})},ts=t=>{a({item:t,status:!0})},os=t=>{Oe({item:t,status:!0})},{register:ze,handleSubmit:ka,control:is,resetField:_a,watch:je,setValue:Te,formState:{errors:Pa}}=Y({defaultValues:{donvi:{value:"",label:"Tất cả"}}}),rs=t=>{t.preventDefault(),D({...p,hoten:je("hoten"),donvi:je("donvi").value,sohieuCAND:je("sohieuCAND")})};d.useEffect(()=>{(async()=>{try{let y=await C.getDataForAddPerson(),M=[{label:"Tất cả",value:""}].concat(y.data.donvis.map(O=>({value:O._id,label:O.tendonvi})));s(M)}catch(y){console.log(y.message)}})()},[]),d.useEffect(()=>{Te("donvi",p.donvi===""?{value:"",label:"Tất cả"}:n.find(t=>t.value===p.donvi))},[n]),d.useEffect(()=>{Te("donvi",p.donvi===""?{value:"",label:"Tất cả"}:n.find(y=>y.value===p.donvi)),(async()=>{try{x(!0);let y=await C.fetchDangvienList(p);h(y.data),setTimeout(()=>{x(!1)},400)}catch(y){console.log(y.message)}})()},[p]);const cs=async t=>{let y={...t,queryParams:p};x(!0);try{let M=await C.editPerson(y),O=[...r],V=r.findIndex(ye=>ye._id.toString()===t.id_edit);O[V].hoten=t.hoten,O[V].ngaysinh=t.ngaysinh,O[V].CCCD=t.CCCD,O[V].sohieuCAND=t.sohieuCAND,O[V].quequan=t.quequan,t.dangvien.value?O[V].ngayvaodang=t.ngayvaodang:O[V].ngayvaodang="",O[V].gioitinh=t.gioitinh.value,O[V].dangvien=t.dangvien.value,O[V].trinhdo=t.trinhdo.value,O[V].lyluanchinhtri=t.lyluanchinhtri.value,h(O),setTimeout(()=>{x(!1)},400),P.success(M.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(M){P.error(M.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},ds=async()=>{x(!0);try{let t=await C.deletePerson(c.id_Delete,{...p}),M=[...r].filter(O=>O._id.toString()!==c.id_Delete);h(M),setTimeout(()=>{x(!1)},400),o({...c,status:!1}),P.success(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(t){P.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},us=async t=>{x(!0);try{await C.changeBacham(t);let y=await C.fetchDangvienList(p);h(y.data),P.success(y.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(y){P.error(y.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},hs=async t=>{try{x(!0),await C.changeChucvu(t);let y=await C.fetchDangvienList(p);h(y.data),P.success(y.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(y){P.error(y.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},xs=async t=>{try{x(!0);let y=await C.chuyenCongtac(t),M=await C.fetchDangvienList(p);h(M.data),P.success(y.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(y){P.error(y.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},gs=async t=>{try{x(!0);let y=await C.postChuyenkhactinh(t),M=await C.fetchDangvienList(p);h(M.data),P.success(y.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(y){P.error(y.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},ve=async()=>{try{let t=await C.fetchDangvienList(p);h(t.data)}catch(t){console.log(t.message)}},ps=async t=>{x(!0);let y={...t,id:oe.item._id};try{let M=await C.upTruongthanhdoan(y),V=[...r].filter(ye=>ye._id.toString()!==oe.item._id);h(V),setTimeout(()=>{x(!1)},400),o({...c,status:!1}),P.success(M.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(M){o({...c,status:!1}),P.error(M.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}};return e.jsxs("div",{className:"pr-2","data-aos":"fade-left","data-aos-once":"true",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(bs,{color:"primary",fontSize:"large"}),e.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Quản trị đoàn viên thuộc chi đoàn, liên chi đoàn đang quản lý"})]}),e.jsxs("form",{onSubmit:t=>rs(t),className:"my-2 mt-4 p-4 rounded-lg shadow-xl",children:[e.jsxs("div",{className:"flex mb-4",children:[e.jsx(Be,{}),e.jsx("h3",{className:"font-semibold",children:"Tìm kiếm đoàn viên"})]}),e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 bg-slate-300 p-2 rounded-md",children:[e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Họ và tên: "}),e.jsx("input",{...ze("hoten",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Số hiệu CAND: "}),e.jsx("input",{...ze("sohieuCAND"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/3 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị công tác:"}),e.jsx(W,{control:is,name:"donvi",render:({field:t})=>e.jsx(R,{options:n,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Tất cả",required:!0,...t})})]})]}),e.jsx("div",{className:"my-2 text-center",children:e.jsxs(z,{sx:{width:"200px",backgroundColor:"slategray"},type:"submit",color:"info",variant:"contained",children:[e.jsx(Be,{})," Tìm kiếm"]})})]}),e.jsx("div",{className:"mt-6 mx-8",children:e.jsx(Qs,{list:r,onClickOpenDialogDelete:v,onClickOpenDialogEdit:N,onClickOpenDialogChangeBacHam:Ze,onClickOpenDialogChangeChucvu:as,onClickOpenDialogChucvuPlus:ls,onClickOpenDialogBachamPlus:ts,onClickOpenDialogDonviPlus:ns,onClickOpenDialogChuyenCongtac:es,onClickOpenDialogChuyenCongtackhactinh:ss,onClickOpenDialogTruongthanhdoan:os})}),e.jsx(Js,{open:j.status,item:j.item,onCloseDialogEdit:f,onSubmit:cs,donvis:n}),e.jsx(Na,{open:w.status,item:w.item,onSubmit:us,onCloseDialogChangeBacHam:Fe}),e.jsx(ta,{open:B.status,item:B.item,onSubmit:hs,onCloseDialogChangeChucvu:Ie}),e.jsx(me,{open:c.status,onCloseDialogDelete:T,onConfirmDelete:ds,onCancelDelete:k}),e.jsx(ra,{open:q.status,item:q.item,onCloseDialogChucvuPlus:Ge,onSubmit:ve}),e.jsx(va,{open:oe.status,item:oe.item,onCloseDialogTruongthanhdoan:Je,onSubmit:ps}),e.jsx(ua,{open:m.status,item:m.item,onCloseDialogBachamPlus:Qe,onSubmit:ve}),e.jsx(ga,{open:g.status,item:g.item,onCloseDialogChuyenCongtac:Xe,onSubmit:xs}),e.jsx(Da,{open:re.status,item:re.item,onCloseDialogChuyenCongtackhactinh:Ue,onSubmit:gs}),e.jsx(ma,{open:be.status,item:be.item,onCloseDialogDonviPlus:Ke,onSubmit:ve})]})},Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"}));export{Ka as Q,Z as d};
